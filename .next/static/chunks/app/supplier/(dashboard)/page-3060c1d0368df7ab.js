(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5893],{850:function(e,s,t){Promise.resolve().then(t.bind(t,4707))},4707:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var r=t(7821),l=t(8078),n=t(346),a=t(2904),d=t(1233),i=t(7855),c=t(2182),o=t(9554),u=t(979),x=t(378),h=t(5537),m=t(3572),f=t(8047),j=t(7384),p=t(3350),g=t(9716);function N(){let{supplierAdmin:e,supplier:s}=(0,p.A)(),[t,N]=(0,l.useState)(null),[v,b]=(0,l.useState)(!0),w=(0,l.useMemo)(()=>(0,g.Zu)(null==e?void 0:e.role),[null==e?void 0:e.role]);(0,l.useEffect)(()=>{(async()=>{try{let e=await j.R.getDashboard();e.success&&N(e.data)}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{b(!1)}})()},[]);let y=e=>new Intl.NumberFormat("fr-FR").format(e)+" FCFA";return v?(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Welcome back! Here's an overview of your store."})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(h.ll,{className:"text-sm font-medium",children:"Total Products"}),(0,r.jsx)(a.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.products.total)||0}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.products.active)||0," active"]})]})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(h.ll,{className:"text-sm font-medium",children:"Pending Orders"}),(0,r.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.orders.pending)||0}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.orders.today)||0," new today"]})]})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(h.ll,{className:"text-sm font-medium",children:"This Month Revenue"}),(0,r.jsx)(i.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsx)(h.aY,{children:w.canViewRevenue?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:y((null==t?void 0:t.revenue.thisMonth)||0)}),(0,r.jsxs)("p",{className:"text-xs ".concat(((null==t?void 0:t.revenue.change)||0)>=0?"text-green-600":"text-red-600"),children:[((null==t?void 0:t.revenue.change)||0)>=0?"+":"",(null==t?void 0:t.revenue.change)||0,"% from last month"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-muted-foreground",children:"---"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,r.jsx)(c.Z,{className:"h-3 w-3"})," Visible to owners/managers"]})]})})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(h.ll,{className:"text-sm font-medium",children:"Low Stock Alert"}),(0,r.jsx)(o.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.products.lowStock)||0}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Products need restocking"})]})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(h.ll,{className:"text-sm font-medium",children:"Pre-order Products"}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.products.preorder)||0}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(null==t?void 0:t.orders.preorderPending)||0," pending pre-orders"]})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{children:[(0,r.jsx)(h.ll,{children:"Quick Actions"}),(0,r.jsx)(h.SZ,{children:"Common tasks you can do right now"})]}),(0,r.jsxs)(h.aY,{className:"space-y-2",children:[w.canCreateProducts?(0,r.jsx)(n.default,{href:"/supplier/products/new",children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",children:["Add New Product",(0,r.jsx)(x.Z,{className:"h-4 w-4"})]})}):(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",disabled:!0,children:["Add New Product",(0,r.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),w.canViewOrders&&(0,r.jsx)(n.default,{href:"/supplier/orders?status=PENDING",children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",children:["View Pending Orders",(0,r.jsx)(x.Z,{className:"h-4 w-4"})]})}),w.canViewPayouts?(0,r.jsx)(n.default,{href:"/supplier/payouts",children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",children:["View Payouts",(0,r.jsx)(x.Z,{className:"h-4 w-4"})]})}):(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",disabled:!0,children:["View Payouts",(0,r.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),w.canEditProfile?(0,r.jsx)(n.default,{href:"/supplier/settings",children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",children:["Update Store Settings",(0,r.jsx)(x.Z,{className:"h-4 w-4"})]})}):(0,r.jsx)(n.default,{href:"/supplier/settings",children:(0,r.jsxs)(m.z,{variant:"outline",className:"w-full justify-between",children:["View Settings",(0,r.jsx)(x.Z,{className:"h-4 w-4"})]})})]})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{children:[(0,r.jsx)(h.ll,{children:"Recent Orders"}),(0,r.jsx)(h.SZ,{children:"Latest orders for your products"})]}),(0,r.jsxs)(h.aY,{children:[(null==t?void 0:t.recentOrders)&&t.recentOrders.length>0?(0,r.jsx)("div",{className:"space-y-4",children:t.recentOrders.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between border-b pb-4 last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:e.order.orderNumber}),e.isPreorder&&(0,r.jsxs)(f.C,{variant:"outline",className:"border-orange-500 text-orange-600 text-[10px] px-1",children:[(0,r.jsx)(u.Z,{className:"mr-0.5 h-2.5 w-2.5"}),"Pre-order"]})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.productName," \xd7 ",e.quantity]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:y(e.total)}),(0,r.jsx)(f.C,{variant:"DELIVERED"===e.fulfillmentStatus?"default":"SHIPPED"===e.fulfillmentStatus?"secondary":"outline",className:"text-xs",children:e.fulfillmentStatus})]})]},e.id))}):(0,r.jsx)("p",{className:"text-center text-sm text-muted-foreground py-4",children:"No orders yet"}),(null==t?void 0:t.recentOrders)&&t.recentOrders.length>0&&(0,r.jsx)(n.default,{href:"/supplier/orders",className:"block mt-4",children:(0,r.jsx)(m.z,{variant:"outline",className:"w-full",children:"View All Orders"})})]})]})]}),(null==t?void 0:t.preorderProducts)&&t.preorderProducts.length>0&&(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{children:[(0,r.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-orange-500"}),"Pre-order Products"]}),(0,r.jsx)(h.SZ,{children:"Your products currently available for pre-order"})]}),(0,r.jsxs)(h.aY,{children:[(0,r.jsx)("div",{className:"space-y-4",children:t.preorderProducts.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between border-b pb-4 last:border-0 last:pb-0",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Total ordered: ",e.totalOrdered]})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)(f.C,{variant:"outline",className:"border-orange-500 text-orange-600",children:[e.pendingOrders," pending"]})})]},e.id))}),(0,r.jsx)(n.default,{href:"/supplier/products?preorder=true",className:"block mt-4",children:(0,r.jsx)(m.z,{variant:"outline",className:"w-full",children:"View All Pre-order Products"})})]})]})]})}},8047:function(e,s,t){"use strict";t.d(s,{C:function(){return d}});var r=t(7821);t(8078);var l=t(2555),n=t(5659);let a=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,...l}=e;return(0,r.jsx)("div",{className:(0,n.cn)(a({variant:t}),s),...l})}},378:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},979:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2182:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},2904:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},1233:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7855:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9554:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2210).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[8616,7886,346,1068,7115,9069,1744],function(){return e(e.s=850)}),_N_E=e.O()}]);
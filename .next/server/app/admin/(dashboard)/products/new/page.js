(()=>{var e={};e.id=6312,e.ids=[6312],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13439:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>c.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>o,routeModule:()=>u,tree:()=>n});var t=r(7),a=r(8533),i=r(29377),c=r.n(i),d=r(29799),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(s,l);let n=["",{children:["admin",{children:["(dashboard)",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22406)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/admin/(dashboard)/products/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,340)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/admin/(dashboard)/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,95667)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,73472,23)),"next/dist/client/components/not-found-error"]}],o=["/home/wilsonjunior/ecommerce-app/frontend/src/app/admin/(dashboard)/products/new/page.tsx"],p="/admin/(dashboard)/products/new/page",h={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/(dashboard)/products/new/page",pathname:"/admin/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},49440:(e,s,r)=>{Promise.resolve().then(r.bind(r,57648))},57648:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var t=r(54714),a=r(77580),i=r(57801),c=r(53278),d=r(40028),l=r(29872),n=r(46475),o=r(27114),p=r(31213),h=r(4686),u=r(83446),m=r(83679),x=r(51511),j=r(1715),y=r(27267),g=r(54874),v=r(4214),k=r(57082);function N(){let e=(0,i.useRouter)(),[s,r]=(0,a.useState)(!1),[N,f]=(0,a.useState)([]),[P,b]=(0,a.useState)([]),[w,Z]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[I,_]=(0,a.useState)([]),[F,q]=(0,a.useState)({name:"",description:"",price:"",compareAtPrice:"",stock:"",sku:"",categoryId:"",supplierId:"",isActive:!0,isFeatured:!1,isPreorder:!1,preorderNote:""}),[S,M]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{let[e,s]=await Promise.all([k.Nq.getCategories(),k.Nq.getSuppliers({status:"ACTIVE",limit:100})]);if(e.success&&e.data&&f(e.data),s.success){let e=s.data.items||s.data||[];b(Array.isArray(e)?e:[])}}catch(e){console.error("Failed to fetch data:",e)}})()},[]);let O=()=>{let e={};return F.name.trim()||(e.name="Name is required"),(!F.price||0>=parseFloat(F.price))&&(e.price="Valid price is required"),(!F.stock||0>parseInt(F.stock))&&(e.stock="Valid stock quantity is required"),F.categoryId||(e.categoryId="Category is required"),M(e),0===Object.keys(e).length},z=async s=>{if(s.preventDefault(),O()){r(!0);try{let s={name:F.name,description:F.description,price:parseFloat(F.price),compareAtPrice:F.compareAtPrice?parseFloat(F.compareAtPrice):void 0,stock:parseInt(F.stock),sku:F.sku||void 0,categoryId:F.categoryId,supplierId:F.supplierId||void 0,isActive:F.isActive,isFeatured:F.isFeatured,isPreorder:F.isPreorder,preorderNote:F.preorderNote||void 0,images:w.map(e=>({url:e.url,publicId:e.publicId,isPrimary:e.isPrimary})),specifications:C.filter(e=>""!==e.value.trim()).map(e=>({key:e.key,value:e.value,group:e.group})),deliveryZones:I.filter(e=>""!==e.zoneName.trim()).map(e=>({zoneName:e.zoneName,zoneType:e.zoneType,region:e.region,minDays:e.minDays,maxDays:e.maxDays,deliveryFee:e.deliveryFee,available:e.available,notes:e.notes}))},r=await k.Nq.createProduct(s);r.success?e.push("/admin/products"):M({submit:r.error||"Failed to create product"})}catch(e){M({submit:"An error occurred. Please try again."})}finally{r(!1)}}};return(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx(j.P,{title:"Add Product"}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)(l.default,{href:"/admin/products",className:"mb-6 inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Back to Products"]}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[S.submit&&t.jsx("div",{className:"rounded-lg bg-destructive/10 p-4 text-sm text-destructive",children:S.submit}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"space-y-6 lg:col-span-2",children:[(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Product Information"})}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(p._,{htmlFor:"name",children:["Name ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(o.I,{id:"name",value:F.name,onChange:e=>q({...F,name:e.target.value}),placeholder:"Product name"}),S.name&&t.jsx("p",{className:"text-sm text-destructive",children:S.name})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(p._,{htmlFor:"description",children:"Description"}),t.jsx(h.g,{id:"description",value:F.description,onChange:e=>q({...F,description:e.target.value}),placeholder:"Product description",rows:5})]})]})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Media"})}),t.jsx(u.aY,{children:t.jsx(y.U,{images:w,onImagesChange:Z,maxImages:6})})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Pricing"})}),t.jsx(u.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(p._,{htmlFor:"price",children:["Price (GHS) ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(o.I,{id:"price",type:"number",step:"0.01",min:"0",value:F.price,onChange:e=>q({...F,price:e.target.value}),placeholder:"0.00"}),S.price&&t.jsx("p",{className:"text-sm text-destructive",children:S.price})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(p._,{htmlFor:"compareAtPrice",children:"Compare at Price"}),t.jsx(o.I,{id:"compareAtPrice",type:"number",step:"0.01",min:"0",value:F.compareAtPrice,onChange:e=>q({...F,compareAtPrice:e.target.value}),placeholder:"0.00"})]})]})})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Inventory"})}),t.jsx(u.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(p._,{htmlFor:"stock",children:["Stock ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(o.I,{id:"stock",type:"number",min:"0",value:F.stock,onChange:e=>q({...F,stock:e.target.value}),placeholder:"0"}),S.stock&&t.jsx("p",{className:"text-sm text-destructive",children:S.stock})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(p._,{htmlFor:"sku",children:"SKU"}),t.jsx(o.I,{id:"sku",value:F.sku,onChange:e=>q({...F,sku:e.target.value}),placeholder:"SKU-001"})]})]})})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Specifications"})}),t.jsx(u.aY,{children:t.jsx(g.l,{specifications:C,onChange:A})})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Delivery Zones & Periods"})}),t.jsx(u.aY,{children:t.jsx(v.J,{deliveryZones:I,onChange:_})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Organization"})}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(p._,{children:["Category ",t.jsx("span",{className:"text-destructive",children:"*"})]}),(0,t.jsxs)(m.Ph,{value:F.categoryId,onValueChange:e=>q({...F,categoryId:e}),children:[t.jsx(m.i4,{children:t.jsx(m.ki,{placeholder:"Select category"})}),t.jsx(m.Bw,{children:N.map(e=>t.jsx(m.Ql,{value:e.id,children:e.name},e.id))})]}),S.categoryId&&t.jsx("p",{className:"text-sm text-destructive",children:S.categoryId})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(p._,{children:"Supplier"}),(0,t.jsxs)(m.Ph,{value:F.supplierId||"NONE",onValueChange:e=>q({...F,supplierId:"NONE"===e?"":e}),children:[t.jsx(m.i4,{children:t.jsx(m.ki,{placeholder:"Select supplier (optional)"})}),(0,t.jsxs)(m.Bw,{children:[t.jsx(m.Ql,{value:"NONE",children:"No supplier (Platform owned)"}),P.map(e=>t.jsx(m.Ql,{value:e.id,children:e.businessName||e.name},e.id))]})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign this product to a supplier for multi-vendor support"})]})]})]}),(0,t.jsxs)(u.Zb,{children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"Status"})}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(p._,{htmlFor:"isActive",children:"Active"}),t.jsx(x.r,{id:"isActive",checked:F.isActive,onCheckedChange:e=>q({...F,isActive:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(p._,{htmlFor:"isFeatured",children:"Featured"}),t.jsx(x.r,{id:"isFeatured",checked:F.isFeatured,onCheckedChange:e=>q({...F,isFeatured:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(p._,{htmlFor:"isPreorder",children:"Pre-order"}),t.jsx(x.r,{id:"isPreorder",checked:F.isPreorder,onCheckedChange:e=>q({...F,isPreorder:e})})]}),F.isPreorder&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(p._,{htmlFor:"preorderNote",children:"Pre-order Note"}),t.jsx(o.I,{id:"preorderNote",value:F.preorderNote,onChange:e=>q({...F,preorderNote:e.target.value}),placeholder:"e.g., Ships in 2-3 weeks"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Shown to customers when they order this product"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[t.jsx(l.default,{href:"/admin/products",children:t.jsx(n.z,{type:"button",variant:"outline",children:"Cancel"})}),t.jsx(n.z,{type:"submit",disabled:s,children:s?(0,t.jsxs)(t.Fragment,{children:[t.jsx(d.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Product"})]})]})]})]})}},4613:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},10137:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},45823:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},47787:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]])},44758:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},3682:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},96156:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},18510:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(20537).Z)("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]])},22406:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>c});let t=(0,r(71481).createProxy)(String.raw`/home/wilsonjunior/ecommerce-app/frontend/src/app/admin/(dashboard)/products/new/page.tsx`),{__esModule:a,$$typeof:i}=t,c=t.default}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[3499,6075,5303,9872,6710,6227,1824,9236,873,3206,2004],()=>r(13439));module.exports=t})();
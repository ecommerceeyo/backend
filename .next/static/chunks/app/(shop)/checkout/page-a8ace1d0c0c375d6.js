(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5224],{7498:function(e,s,t){Promise.resolve().then(t.bind(t,7878))},7878:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return D}});var r=t(7821),a=t(8078),l=t(6665),i=t(346),n=t(142),d=t(1266),o=t(3370),c=t(222),m=t(3263),u=t(3402),f=t(615),x=t(2066),h=t(711),p=t(5002),v=t(3572),g=t(9827),y=t(8407),j=t(5445),N=t(6594),b=t(2872),w=t(5659);let C=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(N.fC,{className:(0,w.cn)("grid gap-2",t),...a,ref:s})});C.displayName=N.fC.displayName;let k=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(N.ck,{ref:s,className:(0,w.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(N.z$,{className:"flex items-center justify-center",children:(0,r.jsx)(b.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});k.displayName=N.ck.displayName;var M=t(5537),O=t(4888),Z=t(3197),P=t(4896),F=t(8047),_=t(3232),A=t(5847),R=t(2154);let E=o.Ry({customerName:o.Z_().min(2,"Name must be at least 2 characters"),customerPhone:o.Z_().min(9,"Phone number must be at least 9 digits").regex(/^[\d+\s-]+$/,"Invalid phone number"),customerEmail:o.Z_().email("Invalid email").optional().or(o.i0("")),deliveryAddress:o.Z_().min(10,"Please provide a detailed address"),deliveryNotes:o.Z_().optional(),paymentMethod:o.Km(["MOMO","COD"])});function D(){let e=(0,l.useRouter)(),{items:s,subtotal:t,itemCount:o}=(0,_.x)(),{customer:N,isAuthenticated:b,loadAuth:D}=(0,A.U6)(),[I,S]=(0,a.useState)(!1),[z,T]=(0,a.useState)(null),[L,X]=(0,a.useState)(null),[Y,q]=(0,a.useState)(!1),U=(null==N?void 0:N.addresses)||[],V=U.find(e=>e.isDefault),{register:W,handleSubmit:H,watch:Q,setValue:$,formState:{errors:B}}=(0,n.cI)({resolver:(0,d.F)(E),defaultValues:{paymentMethod:"MOMO"}});(0,a.useEffect)(()=>{D()},[D]),(0,a.useEffect)(()=>{b&&N&&(N.phone&&!N.phone.startsWith("google_")&&$("customerPhone",N.phone),N.email&&$("customerEmail",N.email),N.name&&$("customerName",N.name),U.length>0&&!Y&&X((V||U[0]).id),N.preferredPaymentMethod&&$("paymentMethod",N.preferredPaymentMethod))},[b,N,$,V,U,Y]);let J=Q("paymentMethod"),K=t>5e4?0:1e3,G=t+K,ee=()=>{if(L)return U.find(e=>e.id===L)},es=async t=>{if(0===s.length){T("Your cart is empty");return}S(!0),T(null);try{var r;let s=ee(),a=b&&L&&!Y&&s?{customerName:s.name,customerPhone:s.phone,customerEmail:(null==N?void 0:N.email)||void 0,deliveryAddress:"".concat(s.address).concat(s.landmark?" (".concat(s.landmark,")"):"",", ").concat(s.city).concat(s.region?", ".concat(s.region):""),deliveryNotes:t.deliveryNotes||void 0,paymentMethod:t.paymentMethod}:{customerName:t.customerName,customerPhone:t.customerPhone,customerEmail:t.customerEmail||void 0,deliveryAddress:t.deliveryAddress,deliveryNotes:t.deliveryNotes||void 0,paymentMethod:t.paymentMethod},l=await R.hi.checkout(a);if(l.success&&(null===(r=l.data)||void 0===r?void 0:r.order)){let s=l.data.order;"MOMO"===t.paymentMethod?e.push("/orders/".concat(s.id,"/payment")):e.push("/orders/".concat(s.orderNumber,"/confirmation"))}}catch(e){T(e.message||"Failed to place order. Please try again.")}finally{S(!1)}},et=e=>{X(e),q(!1)};return 0===s.length?(0,r.jsx)("div",{className:"container py-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Add some items to your cart before checking out."}),(0,r.jsx)(v.z,{asChild:!0,children:(0,r.jsx)(i.default,{href:"/",children:"Start Shopping"})})]})}):(0,r.jsxs)("div",{className:"container py-6",children:[(0,r.jsx)(v.z,{variant:"ghost",size:"sm",asChild:!0,className:"mb-6",children:(0,r.jsxs)(i.default,{href:"/cart",children:[(0,r.jsx)(c.Z,{className:"mr-1 h-4 w-4"}),"Back to Cart"]})}),(0,r.jsx)("h1",{className:"mb-6 text-2xl font-bold",children:"Checkout"}),(0,r.jsx)("form",{onSubmit:H(es),children:(0,r.jsxs)("div",{className:"grid gap-8 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"space-y-6 lg:col-span-2",children:[!b&&(0,r.jsxs)(P.bZ,{children:[(0,r.jsx)(m.Z,{className:"h-4 w-4"}),(0,r.jsxs)(P.X,{children:[(0,r.jsx)(i.default,{href:"/login?returnTo=/checkout",className:"font-medium underline",children:"Sign in"})," ","for faster checkout with saved addresses and order history."]})]}),b&&U.length>0&&!Y&&(0,r.jsxs)(M.Zb,{children:[(0,r.jsxs)(M.Ol,{className:"flex flex-row items-center justify-between",children:[(0,r.jsx)(M.ll,{children:"Delivery Address"}),(0,r.jsx)(i.default,{href:"/account/addresses",className:"text-sm text-primary hover:underline",children:"Manage"})]}),(0,r.jsxs)(M.aY,{className:"space-y-3",children:[U.map(e=>(0,r.jsxs)("div",{className:"flex cursor-pointer items-start gap-4 rounded-lg border p-4 transition-colors ".concat(L===e.id?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>et(e.id),children:[(0,r.jsx)("div",{className:"flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 ".concat(L===e.id?"border-primary bg-primary":"border-muted-foreground"),children:L===e.id&&(0,r.jsx)(u.Z,{className:"h-3 w-3 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),e.isDefault&&(0,r.jsx)(F.C,{variant:"secondary",className:"text-xs",children:"Default"}),e.label&&(0,r.jsx)(F.C,{variant:"outline",className:"text-xs",children:e.label})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.phone}),(0,r.jsxs)("p",{className:"text-sm",children:[e.address,e.landmark&&" (".concat(e.landmark,")")]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.city,e.region&&", ".concat(e.region)]})]})]},e.id)),(0,r.jsxs)(v.z,{type:"button",variant:"outline",className:"w-full",onClick:()=>{X(null),q(!0)},children:[(0,r.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Use a different address"]})]})]}),(!b||Y||0===U.length)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(M.Zb,{children:[(0,r.jsxs)(M.Ol,{className:"flex flex-row items-center justify-between",children:[(0,r.jsx)(M.ll,{children:"Customer Information"}),b&&U.length>0&&(0,r.jsx)(v.z,{type:"button",variant:"link",size:"sm",className:"text-primary",onClick:()=>{q(!1),X((V||U[0]).id)},children:"Use saved address"})]}),(0,r.jsxs)(M.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y._,{htmlFor:"customerName",children:"Full Name *"}),(0,r.jsx)(g.I,{id:"customerName",placeholder:"John Doe",...W("customerName")}),B.customerName&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:B.customerName.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y._,{htmlFor:"customerPhone",children:"Phone Number *"}),(0,r.jsx)(g.I,{id:"customerPhone",placeholder:"+237 6XX XXX XXX",...W("customerPhone")}),B.customerPhone&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:B.customerPhone.message})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y._,{htmlFor:"customerEmail",children:"Email (Optional)"}),(0,r.jsx)(g.I,{id:"customerEmail",type:"email",placeholder:"john@example.com",...W("customerEmail")}),B.customerEmail&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:B.customerEmail.message})]})]})]}),(0,r.jsxs)(M.Zb,{children:[(0,r.jsx)(M.Ol,{children:(0,r.jsx)(M.ll,{children:"Delivery Address"})}),(0,r.jsx)(M.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y._,{htmlFor:"deliveryAddress",children:"Full Address *"}),(0,r.jsx)(j.g,{id:"deliveryAddress",placeholder:"House number, Street name, Neighborhood, City",rows:3,...W("deliveryAddress")}),B.deliveryAddress&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:B.deliveryAddress.message})]})})]})]}),(0,r.jsxs)(M.Zb,{children:[(0,r.jsx)(M.Ol,{children:(0,r.jsx)(M.ll,{children:"Delivery Notes"})}),(0,r.jsx)(M.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(y._,{htmlFor:"deliveryNotes",children:"Special Instructions (Optional)"}),(0,r.jsx)(j.g,{id:"deliveryNotes",placeholder:"Any special instructions for delivery",rows:2,...W("deliveryNotes")})]})})]}),(0,r.jsxs)(M.Zb,{children:[(0,r.jsx)(M.Ol,{children:(0,r.jsx)(M.ll,{children:"Payment Method"})}),(0,r.jsx)(M.aY,{children:(0,r.jsxs)(C,{value:J,onValueChange:e=>$("paymentMethod",e),className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex cursor-pointer items-center space-x-4 rounded-lg border p-4 ".concat("MOMO"===J?"border-primary bg-primary/5":""),onClick:()=>$("paymentMethod","MOMO"),children:[(0,r.jsx)(k,{value:"MOMO",id:"momo"}),(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,r.jsx)("div",{className:"rounded-full bg-yellow-100 p-2",children:(0,r.jsx)(x.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y._,{htmlFor:"momo",className:"cursor-pointer font-medium",children:"Mobile Money (MoMo)"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pay instantly with MTN Mobile Money"})]})]})]}),(0,r.jsxs)("div",{className:"flex cursor-pointer items-center space-x-4 rounded-lg border p-4 ".concat("COD"===J?"border-primary bg-primary/5":""),onClick:()=>$("paymentMethod","COD"),children:[(0,r.jsx)(k,{value:"COD",id:"cod"}),(0,r.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,r.jsx)("div",{className:"rounded-full bg-green-100 p-2",children:(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(y._,{htmlFor:"cod",className:"cursor-pointer font-medium",children:"Cash on Delivery"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pay when you receive your order"})]})]})]})]})})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)(M.Zb,{className:"sticky top-24",children:[(0,r.jsx)(M.Ol,{children:(0,r.jsx)(M.ll,{children:"Order Summary"})}),(0,r.jsxs)(M.aY,{className:"space-y-4",children:[(0,r.jsx)("div",{className:"max-h-48 space-y-3 overflow-y-auto",children:s.map(e=>{var s,t,a,l,i,n;let d=(null===(a=e.product)||void 0===a?void 0:null===(t=a.images)||void 0===t?void 0:null===(s=t.find(e=>e.isPrimary))||void 0===s?void 0:s.url)||(null===(n=e.product)||void 0===n?void 0:null===(i=n.images)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.url)||"/placeholder-product.png";return(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-md bg-gray-100",children:(0,r.jsx)(Z.q,{src:d,alt:e.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"line-clamp-1 text-sm font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Qty: ",e.quantity]}),(0,r.jsx)("p",{className:"text-sm font-semibold",children:(0,w.T4)(e.total)})]})]},e.id)})}),(0,r.jsx)(O.Z,{}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-muted-foreground",children:["Subtotal (",o," items)"]}),(0,r.jsx)("span",{children:(0,w.T4)(t)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Delivery Fee"}),(0,r.jsx)("span",{children:0===K?(0,r.jsx)("span",{className:"text-green-600",children:"Free"}):(0,w.T4)(K)})]}),(0,r.jsx)(O.Z,{}),(0,r.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{children:(0,w.T4)(G)})]})]}),z&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:z}),(0,r.jsx)(v.z,{type:"submit",className:"w-full",size:"lg",disabled:I,children:I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):"Place Order - ".concat((0,w.T4)(G))})]})]})})]})})]})}},4896:function(e,s,t){"use strict";t.d(s,{X:function(){return o},bZ:function(){return d}});var r=t(7821),a=t(8078),l=t(2555),i=t(5659);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,...l}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:a}),t),...l})});d.displayName="Alert",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}).displayName="AlertTitle";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...a})});o.displayName="AlertDescription"},8047:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var r=t(7821);t(8078);var a=t(2555),l=t(5659);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...a})}},5537:function(e,s,t){"use strict";t.d(s,{Ol:function(){return n},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var r=t(7821),a=t(8078),l=t(5659);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});n.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});m.displayName="CardFooter"},9827:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var r=t(7821),a=t(8078),l=t(5659);let i=a.forwardRef((e,s)=>{let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},8407:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var r=t(7821),a=t(8078),l=t(5895),i=t(2555),n=t(5659);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.f,{ref:s,className:(0,n.cn)(d(),t),...a})});o.displayName=l.f.displayName},3197:function(e,s,t){"use strict";t.d(s,{q:function(){return i}});var r=t(7821),a=t(8088);let l=e=>e.includes("localhost")||e.startsWith("/uploads");function i(e){let{src:s,alt:t,className:i,fill:n,sizes:d,...o}=e;return l(s)?n?(0,r.jsx)("img",{src:s,alt:t,className:"absolute inset-0 h-full w-full ".concat(i||""),...o}):(0,r.jsx)("img",{src:s,alt:t,className:i,...o}):(0,r.jsx)(a.default,{src:s,alt:t,className:i,fill:n,sizes:d,...o})}},4888:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(7821),a=t(8078),l=t(4444),i=t(5659);let n=a.forwardRef((e,s)=>{let{className:t,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,r.jsx)(l.f,{ref:s,decorative:n,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",t),...d})});n.displayName=l.f.displayName},5445:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var r=t(7821),a=t(8078),l=t(5659);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...a})});i.displayName="Textarea"},3232:function(e,s,t){"use strict";t.d(s,{x:function(){return l}});var r=t(1434),a=t(2154);let l=(0,r.Ue)()((e,s)=>({items:[],subtotal:0,itemCount:0,isLoading:!1,isOpen:!1,fetchCart:async()=>{e({isLoading:!0});try{let s=await a.hi.getCart();if(s.success){let t=s.data;e({items:t.items||[],subtotal:t.subtotal||0,itemCount:t.itemCount||0})}}catch(e){console.error("Failed to fetch cart:",e)}finally{e({isLoading:!1})}},addItem:async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e({isLoading:!0});try{let l=await a.hi.addToCart(t,r);if(l.success){let t=l.data;e({items:t.items||[],subtotal:t.subtotal||0,itemCount:t.itemCount||0}),s().openCart()}}catch(e){throw console.error("Failed to add item:",e),e}finally{e({isLoading:!1})}},updateQuantity:async(t,r)=>{if(r<1)return s().removeItem(t);e({isLoading:!0});try{let s=await a.hi.updateCartItem(t,r);if(s.success){let t=s.data;e({items:t.items||[],subtotal:t.subtotal||0,itemCount:t.itemCount||0})}}catch(e){throw console.error("Failed to update quantity:",e),e}finally{e({isLoading:!1})}},removeItem:async s=>{e({isLoading:!0});try{let t=await a.hi.removeFromCart(s);if(t.success){let s=t.data;e({items:s.items||[],subtotal:s.subtotal||0,itemCount:s.itemCount||0})}}catch(e){throw console.error("Failed to remove item:",e),e}finally{e({isLoading:!1})}},clearCart:async()=>{e({isLoading:!0});try{await a.hi.clearCart(),e({items:[],subtotal:0,itemCount:0})}catch(e){throw console.error("Failed to clear cart:",e),e}finally{e({isLoading:!1})}},toggleCart:()=>e(e=>({isOpen:!e.isOpen})),openCart:()=>e({isOpen:!0}),closeCart:()=>e({isOpen:!1})}))}},function(e){e.O(0,[8616,7886,346,9216,8088,6906,8913,3213,7115,9069,1744],function(){return e(e.s=7498)}),_N_E=e.O()}]);
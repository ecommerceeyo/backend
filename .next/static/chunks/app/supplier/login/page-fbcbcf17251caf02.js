(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3203],{9e3:function(e,t,r){Promise.resolve().then(r.bind(r,5e3))},5e3:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7821),a=r(8078),i=r(6665),s=r(346),o=r(1141),u=r(5002),l=r(3572),d=r(9827),c=r(8407),f=r(5537),p=r(3350);function m(){let e=(0,i.useRouter)(),{login:t,isLoading:r}=(0,p.A)(),[m,h]=(0,a.useState)(""),[g,x]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),b=async r=>{r.preventDefault(),y("");try{await t(m,g),e.push("/supplier")}catch(e){y(e instanceof Error?e.message:"Login failed")}};return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-muted/30 px-4",children:(0,n.jsxs)(f.Zb,{className:"w-full max-w-md",children:[(0,n.jsxs)(f.Ol,{className:"space-y-1 text-center",children:[(0,n.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary",children:(0,n.jsx)(o.Z,{className:"h-6 w-6 text-primary-foreground"})}),(0,n.jsx)(f.ll,{className:"text-2xl",children:"Supplier Portal"}),(0,n.jsx)(f.SZ,{children:"Sign in to manage your products and orders"})]}),(0,n.jsxs)("form",{onSubmit:b,children:[(0,n.jsxs)(f.aY,{className:"space-y-4",children:[v&&(0,n.jsx)("div",{className:"rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:v}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,n.jsx)(d.I,{id:"email",type:"email",placeholder:"supplier@example.com",value:m,onChange:e=>h(e.target.value),required:!0,disabled:r})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,n.jsx)(d.I,{id:"password",type:"password",placeholder:"Enter your password",value:g,onChange:e=>x(e.target.value),required:!0,disabled:r})]})]}),(0,n.jsxs)(f.eW,{className:"flex flex-col space-y-4",children:[(0,n.jsx)(l.z,{type:"submit",className:"w-full",disabled:r,children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),(0,n.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,n.jsx)(s.default,{href:"/supplier/register",className:"text-primary hover:underline",children:"Register as a supplier"})]})]})]})]})})}},3572:function(e,t,r){"use strict";r.d(t,{d:function(){return u},z:function(){return l}});var n=r(7821),a=r(8078),i=r(7779),s=r(2555),o=r(5659);let u=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:l=!1,...d}=e,c=l?i.g7:"button";return(0,n.jsx)(c,{className:(0,o.cn)(u({variant:a,size:s,className:r})),ref:t,...d})});l.displayName="Button"},5537:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return s},aY:function(){return d},eW:function(){return c},ll:function(){return u}});var n=r(7821),a=r(8078),i=r(5659);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});s.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});u.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});l.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});c.displayName="CardFooter"},9827:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(7821),a=r(8078),i=r(5659);let s=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},8407:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(7821),a=r(8078),i=r(5895),s=r(2555),o=r(5659);let u=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.f,{ref:t,className:(0,o.cn)(u(),r),...a})});l.displayName=i.f.displayName},5659:function(e,t,r){"use strict";r.d(t,{Dx:function(){return u},Jn:function(){return o},T4:function(){return s},cn:function(){return i},ew:function(){return l}});var n=r(6252),a=r(3973);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function s(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XAF",r=Math.round(e).toLocaleString("fr-FR"),n={XAF:"FCFA",USD:"$",EUR:"â‚¬",GBP:"\xa3"}[t]||t;return"XAF"===t?"".concat(r," ").concat(n):"".concat(n).concat(r)}("string"==typeof e?parseFloat(e):e,"XAF")}function o(e){var t,r,n;let a=null===(t=e.images)||void 0===t?void 0:t.find(e=>e.isPrimary);return(null==a?void 0:a.url)||(null===(n=e.images)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.url)||"/placeholder-product.png"}function u(e){switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}}function l(e){return({PENDING:"Order Placed",PICKED_UP:"Picked Up",IN_TRANSIT:"In Transit",DELIVERED:"Delivered",CANCELLED:"Cancelled"})[e]||e}},3350:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});var n=r(1434),a=r(4565);let i="http://192.168.0.8:4000/api",s=(0,n.Ue)()((0,a.tJ)((e,t)=>({token:null,supplierAdmin:null,supplier:null,isAuthenticated:!1,isLoading:!1,login:async(t,r)=>{e({isLoading:!0});try{let n=await fetch("".concat(i,"/supplier-auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})}),a=await n.json();if(!n.ok)throw Error(a.error||"Login failed");e({token:a.data.token,supplierAdmin:a.data.supplierAdmin,supplier:a.data.supplier,isAuthenticated:!0,isLoading:!1})}catch(t){throw e({isLoading:!1}),t}},register:async t=>{e({isLoading:!0});try{let r=await fetch("".concat(i,"/supplier-auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw Error(n.error||"Registration failed");return e({isLoading:!1}),n}catch(t){throw e({isLoading:!1}),t}},logout:()=>{e({token:null,supplierAdmin:null,supplier:null,isAuthenticated:!1})},setAuth:(t,r,n)=>{e({token:t,supplierAdmin:r,supplier:n,isAuthenticated:!0})},checkAuth:async()=>{let{token:r}=t();if(!r){e({isAuthenticated:!1});return}e({isLoading:!0});try{let t=await fetch("".concat(i,"/supplier-auth/me"),{headers:{Authorization:"Bearer ".concat(r)}});if(!t.ok)throw Error("Session expired");let n=await t.json();e({supplierAdmin:n.data.supplierAdmin,supplier:n.data.supplier,isAuthenticated:!0,isLoading:!1})}catch(t){e({token:null,supplierAdmin:null,supplier:null,isAuthenticated:!1,isLoading:!1})}}}),{name:"supplier-auth",partialize:e=>({token:e.token,supplierAdmin:e.supplierAdmin,supplier:e.supplier,isAuthenticated:e.isAuthenticated})}))},5002:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2210).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1141:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2210).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},6665:function(e,t,r){"use strict";var n=r(319);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},5895:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var n=r(8078);r(457);var a=r(7779),i=r(7821),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)(`Primitive.${t}`),s=n.forwardRef((e,n)=>{let{asChild:a,...s}=e,o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:n})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),o=n.forwardRef((e,t)=>(0,i.jsx)(s.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var u=o}},function(e){e.O(0,[8616,7886,346,7115,9069,1744],function(){return e(e.s=9e3)}),_N_E=e.O()}]);
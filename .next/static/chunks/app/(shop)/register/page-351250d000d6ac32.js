(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{2801:function(e,s,r){Promise.resolve().then(r.bind(r,936))},936:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return y}});var a=r(7821),t=r(8078),n=r(6665),i=r(346),l=r(142),c=r(1266),o=r(3370),d=r(5770),m=r(6187),u=r(5002),f=r(3572),x=r(9827),p=r(8407),h=r(5537),j=r(4888),N=r(5847);let v=o.Ry({name:o.Z_().min(2,"Name must be at least 2 characters"),email:o.Z_().email("Invalid email address"),phone:o.Z_().min(9,"Phone number must be at least 9 digits").regex(/^[\d+\s-]+$/,"Invalid phone number"),password:o.Z_().min(6,"Password must be at least 6 characters"),confirmPassword:o.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function w(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("returnTo")||"/account",{register:r,isAuthenticated:o,isLoading:w}=(0,N.U6)(),[y,g]=(0,t.useState)(!1),[b,Z]=(0,t.useState)(!1),[C,k]=(0,t.useState)(null),{register:P,handleSubmit:_,formState:{errors:R}}=(0,l.cI)({resolver:(0,c.F)(v)});(0,t.useEffect)(()=>{o&&e.push(s)},[o,e,s]);let S=async e=>{k(null);try{await r({name:e.name,email:e.email,phone:e.phone,password:e.password})}catch(e){k(e.message||"Registration failed. Please try again.")}};return(0,a.jsx)("div",{className:"container py-12",children:(0,a.jsx)("div",{className:"mx-auto max-w-md",children:(0,a.jsxs)(h.Zb,{className:"border-gray-200",children:[(0,a.jsxs)(h.Ol,{className:"text-center",children:[(0,a.jsx)(h.ll,{className:"text-2xl font-light tracking-wider",children:"CREATE ACCOUNT"}),(0,a.jsx)(h.SZ,{children:"Join us to enjoy a personalized shopping experience"})]}),(0,a.jsxs)(h.aY,{className:"space-y-6",children:[(0,a.jsxs)("form",{onSubmit:_(S),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(x.I,{id:"name",placeholder:"John Doe",...P("name")}),R.name&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R.name.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(x.I,{id:"email",type:"email",placeholder:"email@example.com",...P("email")}),R.email&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R.email.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(x.I,{id:"phone",placeholder:"+237 6XX XXX XXX",...P("phone")}),R.phone&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R.phone.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.I,{id:"password",type:y?"text":"password",placeholder:"Create a password",...P("password")}),(0,a.jsx)(f.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>g(!y),children:y?(0,a.jsx)(d.Z,{className:"h-4 w-4"}):(0,a.jsx)(m.Z,{className:"h-4 w-4"})})]}),R.password&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R.password.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p._,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.I,{id:"confirmPassword",type:b?"text":"password",placeholder:"Confirm your password",...P("confirmPassword")}),(0,a.jsx)(f.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>Z(!b),children:b?(0,a.jsx)(d.Z,{className:"h-4 w-4"}):(0,a.jsx)(m.Z,{className:"h-4 w-4"})})]}),R.confirmPassword&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:R.confirmPassword.message})]}),C&&(0,a.jsx)("div",{className:"rounded-md bg-destructive/10 p-3",children:(0,a.jsx)("p",{className:"text-sm text-destructive",children:C})}),(0,a.jsx)(f.z,{type:"submit",className:"w-full",disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)(j.Z,{className:"w-full"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-white px-2 text-muted-foreground",children:"Or"})})]}),(0,a.jsxs)("div",{className:"text-center text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Already have an account? "}),(0,a.jsx)(i.default,{href:"/login".concat("/account"!==s?"?returnTo=".concat(s):""),className:"font-medium hover:underline",children:"Sign In"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(i.default,{href:"/",className:"text-sm text-muted-foreground hover:text-foreground",children:"Continue Shopping"})})]})]})})})}function y(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"container py-12 flex justify-center",children:"Loading..."}),children:(0,a.jsx)(w,{})})}},5537:function(e,s,r){"use strict";r.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return m},ll:function(){return c}});var a=r(7821),t=r(8078),n=r(5659);let i=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});i.displayName="Card";let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...t})});l.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});c.displayName="CardTitle";let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...t})});d.displayName="CardContent";let m=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...t})});m.displayName="CardFooter"},9827:function(e,s,r){"use strict";r.d(s,{I:function(){return i}});var a=r(7821),t=r(8078),n=r(5659);let i=t.forwardRef((e,s)=>{let{className:r,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},8407:function(e,s,r){"use strict";r.d(s,{_:function(){return o}});var a=r(7821),t=r(8078),n=r(5895),i=r(2555),l=r(5659);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.f,{ref:s,className:(0,l.cn)(c(),r),...t})});o.displayName=n.f.displayName},4888:function(e,s,r){"use strict";r.d(s,{Z:function(){return l}});var a=r(7821),t=r(8078),n=r(4444),i=r(5659);let l=t.forwardRef((e,s)=>{let{className:r,orientation:t="horizontal",decorative:l=!0,...c}=e;return(0,a.jsx)(n.f,{ref:s,decorative:l,orientation:t,className:(0,i.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",r),...c})});l.displayName=n.f.displayName},5770:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},6187:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4444:function(e,s,r){"use strict";r.d(s,{f:function(){return d}});var a=r(8078);r(457);var t=r(7779),n=r(7821),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let r=(0,t.Z8)(`Primitive.${s}`),i=a.forwardRef((e,a)=>{let{asChild:t,...i}=e,l=t?r:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(l,{...i,ref:a})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),l="horizontal",c=["horizontal","vertical"],o=a.forwardRef((e,s)=>{let{decorative:r,orientation:a=l,...t}=e,o=c.includes(a)?a:l;return(0,n.jsx)(i.div,{"data-orientation":o,...r?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...t,ref:s})});o.displayName="Separator";var d=o}},function(e){e.O(0,[8616,7886,346,6906,3213,7115,9069,1744],function(){return e(e.s=2801)}),_N_E=e.O()}]);
(()=>{var e={};e.id=3028,e.ids=[3028],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},54793:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(7),a=t(8533),n=t(29377),i=t.n(n),l=t(29799),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["(shop)",{children:["account",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,87671)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/(shop)/account/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,25444)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/(shop)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,73472,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95667)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,73472,23)),"next/dist/client/components/not-found-error"]}],d=["/home/wilsonjunior/ecommerce-app/frontend/src/app/(shop)/account/profile/page.tsx"],m="/(shop)/account/profile/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(shop)/account/profile/page",pathname:"/account/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28313:(e,s,t)=>{Promise.resolve().then(t.bind(t,86604))},86604:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(54714),a=t(77580),n=t(57801),i=t(29872),l=t(96379),o=t(19863),c=t(19928),d=t(45823),m=t(40028),u=t(46475),p=t(27114),x=t(31213),h=t(83446),f=t(7665),g=t(89141);let v=c.Ry({name:c.Z_().min(2,"Name must be at least 2 characters"),email:c.Z_().email("Invalid email address"),phone:c.Z_().min(9,"Phone number must be at least 9 digits").regex(/^[\d+\s-]+$/,"Invalid phone number")});function j(){let e=(0,n.useRouter)(),{customer:s,isAuthenticated:t,isLoading:c,needsPhoneUpdate:j,updateProfile:N,loadAuth:b}=(0,g.U6)(),[y,P]=(0,a.useState)(!1),[w,_]=(0,a.useState)(null),{register:R,handleSubmit:Z,reset:C,formState:{errors:S,isDirty:X}}=(0,l.cI)({resolver:(0,o.F)(v)});(0,a.useEffect)(()=>{b()},[b]),(0,a.useEffect)(()=>{t||e.push("/login?returnTo=/account/profile")},[t,e]),(0,a.useEffect)(()=>{if(s){let e=s.phone?.startsWith("google_")?"":s.phone||"";C({name:s.name||"",email:s.email||"",phone:e})}},[s,C]);let k=async e=>{_(null),P(!1);try{await N(e),P(!0)}catch(e){_(e.message||"Failed to update profile")}};return t&&s?(0,r.jsxs)("div",{className:"container py-8",children:[r.jsx(u.z,{variant:"ghost",size:"sm",asChild:!0,className:"mb-6",children:(0,r.jsxs)(i.default,{href:"/account",children:[r.jsx(d.Z,{className:"mr-1 h-4 w-4"}),"Back to Account"]})}),r.jsx("div",{className:"mx-auto max-w-2xl",children:(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{children:[r.jsx(h.ll,{className:"text-xl font-light tracking-wider",children:"PERSONAL INFORMATION"}),r.jsx(h.SZ,{children:"Update your personal details"})]}),(0,r.jsxs)(h.aY,{children:[j&&r.jsx(f.bZ,{className:"mb-6",children:r.jsx(f.X,{children:"Please add your phone number to receive order updates and delivery notifications."})}),y&&r.jsx(f.bZ,{className:"mb-6 border-green-500 bg-green-50",children:r.jsx(f.X,{className:"text-green-700",children:"Profile updated successfully!"})}),w&&r.jsx(f.bZ,{className:"mb-6 border-destructive bg-destructive/10",children:r.jsx(f.X,{className:"text-destructive",children:w})}),(0,r.jsxs)("form",{onSubmit:Z(k),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(x._,{htmlFor:"name",children:"Full Name"}),r.jsx(p.I,{id:"name",placeholder:"John Doe",...R("name")}),S.name&&r.jsx("p",{className:"text-sm text-destructive",children:S.name.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(x._,{htmlFor:"email",children:"Email"}),r.jsx(p.I,{id:"email",type:"email",placeholder:"email@example.com",...R("email")}),S.email&&r.jsx("p",{className:"text-sm text-destructive",children:S.email.message})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(x._,{htmlFor:"phone",children:["Phone Number ",j&&r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(p.I,{id:"phone",placeholder:"+237 6XX XXX XXX",...R("phone")}),S.phone&&r.jsx("p",{className:"text-sm text-destructive",children:S.phone.message}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for delivery updates and order notifications"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx(u.z,{type:"submit",disabled:c||!X,children:c?(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"}),r.jsx(u.z,{type:"button",variant:"outline",onClick:()=>e.push("/account"),children:"Cancel"})]})]})]})]})})]}):r.jsx("div",{className:"container py-12",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("p",{children:"Loading..."})})})}},7665:(e,s,t)=>{"use strict";t.d(s,{X:()=>c,bZ:()=>o});var r=t(54714),a=t(77580),n=t(66351),i=t(35178);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=a.forwardRef(({className:e,variant:s,...t},a)=>r.jsx("div",{ref:a,role:"alert",className:(0,i.cn)(l({variant:s}),e),...t}));o.displayName="Alert",a.forwardRef(({className:e,...s},t)=>r.jsx("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...s}));c.displayName="AlertDescription"},83446:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>m,ll:()=>o});var r=t(54714),a=t(77580),n=t(35178);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent";let m=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},31213:(e,s,t)=>{"use strict";t.d(s,{_:()=>c});var r=t(54714),a=t(77580),n=t(34341),i=t(66351),l=t(35178);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},t)=>r.jsx(n.f,{ref:t,className:(0,l.cn)(o(),e),...s}));c.displayName=n.f.displayName},45823:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(20537).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},57801:(e,s,t)=>{"use strict";var r=t(87482);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},87671:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,t(71481).createProxy)(String.raw`/home/wilsonjunior/ecommerce-app/frontend/src/app/(shop)/account/profile/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[3499,6075,5303,9872,6710,6227,3751,5592,9236,4728],()=>t(54793));module.exports=r})();
(()=>{var e={};e.id=2657,e.ids=[2657],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},36093:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(7),r=s(8533),l=s(29377),i=s.n(l),o=s(29799),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d=["",{children:["supplier",{children:["(dashboard)",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,89111)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/supplier/(dashboard)/products/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,34692)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/supplier/(dashboard)/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,95667)),"/home/wilsonjunior/ecommerce-app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}],c=["/home/wilsonjunior/ecommerce-app/frontend/src/app/supplier/(dashboard)/products/page.tsx"],u="/supplier/(dashboard)/products/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/supplier/(dashboard)/products/page",pathname:"/supplier/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26024:(e,t,s)=>{Promise.resolve().then(s.bind(s,11089))},11089:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(54714),r=s(77580),l=s(29872),i=s(36670),o=s(20155),n=s(3682),d=s(22405),c=s(48695),u=s(45642),p=s(65717),m=s(88387),x=s(46475),f=s(27114),h=s(31407),j=s(50001),g=s(35366),y=s(53283),b=s(13586),N=s(87773),v=s(5153);function w(){let{supplierAdmin:e}=(0,N.A)(),[t,s]=(0,r.useState)([]),[w,P]=(0,r.useState)(!0),[R,k]=(0,r.useState)(""),[A,C]=(0,r.useState)(null),[D,_]=(0,r.useState)({page:1,limit:20,total:0,totalPages:0}),S=(0,r.useMemo)(()=>(0,v.Zu)(e?.role),[e?.role]),z=async()=>{P(!0);try{let e=await b.R.getProducts({page:D.page,limit:D.limit,search:R||void 0});e.success&&(s(e.data.items),_(t=>({...t,...e.data.pagination})))}catch(e){console.error("Failed to fetch products:",e)}finally{P(!1)}};(0,r.useEffect)(()=>{z()},[D.page,R]);let F=async()=>{if(A)try{await b.R.deleteProduct(A),s(t.filter(e=>e.id!==A))}catch(e){console.error("Failed to delete product:",e)}finally{C(null)}},Z=async(e,a)=>{try{await b.R.updateProduct(e,{active:!a}),s(t.map(t=>t.id===e?{...t,active:!a}:t))}catch(e){console.error("Failed to update product:",e)}},T=e=>new Intl.NumberFormat("fr-FR").format(e)+" FCFA";return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Products"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your product catalog"})]}),S.canCreateProducts&&a.jsx(l.default,{href:"/supplier/products/new",children:(0,a.jsxs)(x.z,{children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"Add Product"]})})]}),a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(f.I,{placeholder:"Search products...",value:R,onChange:e=>k(e.target.value),className:"pl-9"})]})}),a.jsx("div",{className:"rounded-lg border bg-background",children:(0,a.jsxs)(j.iA,{children:[a.jsx(j.xD,{children:(0,a.jsxs)(j.SC,{children:[a.jsx(j.ss,{className:"w-[80px]",children:"Image"}),a.jsx(j.ss,{children:"Product"}),a.jsx(j.ss,{children:"Category"}),a.jsx(j.ss,{className:"text-right",children:"Price"}),a.jsx(j.ss,{className:"text-right",children:"Stock"}),a.jsx(j.ss,{children:"Status"}),a.jsx(j.ss,{className:"w-[50px]"})]})}),a.jsx(j.RM,{children:w?a.jsx(j.SC,{children:a.jsx(j.pj,{colSpan:7,className:"h-24 text-center",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):0===t.length?a.jsx(j.SC,{children:a.jsx(j.pj,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"No products found"})}):t.map(e=>(0,a.jsxs)(j.SC,{children:[a.jsx(j.pj,{children:a.jsx("div",{className:"relative h-12 w-12 overflow-hidden rounded-lg border bg-muted",children:e.images?.[0]?.url?a.jsx(i.default,{src:e.images[0].url,alt:e.name,fill:!0,className:"object-cover"}):a.jsx("div",{className:"flex h-full items-center justify-center text-xs text-muted-foreground",children:"No img"})})}),a.jsx(j.pj,{children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.slug})]})}),a.jsx(j.pj,{children:e.categories?.[0]?.category?.name||"Uncategorized"}),a.jsx(j.pj,{className:"text-right font-medium",children:T(e.price)}),a.jsx(j.pj,{className:"text-right",children:a.jsx(h.C,{variant:e.stock<=5?"destructive":"outline",children:e.stock})}),a.jsx(j.pj,{children:a.jsx(h.C,{variant:e.active?"default":"secondary",children:e.active?"Active":"Inactive"})}),a.jsx(j.pj,{children:(S.canEditProducts||S.canDeleteProducts)&&(0,a.jsxs)(g.h_,{children:[a.jsx(g.$F,{asChild:!0,children:a.jsx(x.z,{variant:"ghost",size:"icon",children:a.jsx(d.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(g.AW,{align:"end",children:[S.canEditProducts&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.Xi,{asChild:!0,children:(0,a.jsxs)(l.default,{href:`/supplier/products/${e.id}/edit`,children:[a.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Edit"]})}),a.jsx(g.Xi,{onClick:()=>Z(e.id,e.active),children:e.active?(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Deactivate"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Activate"]})})]}),S.canDeleteProducts&&(0,a.jsxs)(g.Xi,{className:"text-destructive",onClick:()=>C(e.id),children:[a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})}),D.totalPages>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",t.length," of ",D.total," products"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(x.z,{variant:"outline",size:"sm",disabled:1===D.page,onClick:()=>_(e=>({...e,page:e.page-1})),children:"Previous"}),a.jsx(x.z,{variant:"outline",size:"sm",disabled:D.page===D.totalPages,onClick:()=>_(e=>({...e,page:e.page+1})),children:"Next"})]})]}),a.jsx(y.aR,{open:!!A,onOpenChange:()=>C(null),children:(0,a.jsxs)(y._T,{children:[(0,a.jsxs)(y.fY,{children:[a.jsx(y.f$,{children:"Delete Product"}),a.jsx(y.yT,{children:"Are you sure you want to delete this product? This action cannot be undone."})]}),(0,a.jsxs)(y.xo,{children:[a.jsx(y.le,{children:"Cancel"}),a.jsx(y.OL,{onClick:F,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}},53283:(e,t,s)=>{"use strict";s.d(t,{aR:()=>z,OL:()=>$,le:()=>I,_T:()=>Z,yT:()=>E,xo:()=>M,fY:()=>T,f$:()=>q});var a=s(54714),r=s(77580),l=s(6452),i=s(49179),o=s(20885),n=s(64876),d=Symbol("radix.slottable"),c="AlertDialog",[u,p]=(0,l.b)(c,[o.p8]),m=(0,o.p8)(),x=e=>{let{__scopeAlertDialog:t,...s}=e,r=m(t);return(0,a.jsx)(o.fC,{...r,...s,modal:!0})};x.displayName=c,r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(o.xz,{...l,...r,ref:t})}).displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:t,...s}=e,r=m(t);return(0,a.jsx)(o.h_,{...r,...s})};f.displayName="AlertDialogPortal";var h=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(o.aV,{...l,...r,ref:t})});h.displayName="AlertDialogOverlay";var j="AlertDialogContent",[g,y]=u(j),b=function(e){let t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=d,t}("AlertDialogContent"),N=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,children:l,...d}=e,c=m(s),u=r.useRef(null),p=(0,i.e)(t,u),x=r.useRef(null);return(0,a.jsx)(o.jm,{contentName:j,titleName:v,docsSlug:"alert-dialog",children:(0,a.jsx)(g,{scope:s,cancelRef:x,children:(0,a.jsxs)(o.VY,{role:"alertdialog",...c,...d,ref:p,onOpenAutoFocus:(0,n.Mj)(d.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(b,{children:l}),(0,a.jsx)(D,{contentRef:u})]})})})});N.displayName=j;var v="AlertDialogTitle",w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(o.Dx,{...l,...r,ref:t})});w.displayName=v;var P="AlertDialogDescription",R=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(o.dk,{...l,...r,ref:t})});R.displayName=P;var k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=m(s);return(0,a.jsx)(o.x8,{...l,...r,ref:t})});k.displayName="AlertDialogAction";var A="AlertDialogCancel",C=r.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,{cancelRef:l}=y(A,s),n=m(s),d=(0,i.e)(t,l);return(0,a.jsx)(o.x8,{...n,...r,ref:d})});C.displayName=A;var D=({contentRef:e})=>{let t=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${P}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},_=s(35178),S=s(46475);let z=x,F=r.forwardRef(({className:e,...t},s)=>a.jsx(h,{className:(0,_.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));F.displayName=h.displayName;let Z=r.forwardRef(({className:e,...t},s)=>(0,a.jsxs)(f,{children:[a.jsx(F,{}),a.jsx(N,{ref:s,className:(0,_.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Z.displayName=N.displayName;let T=({className:e,...t})=>a.jsx("div",{className:(0,_.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});T.displayName="AlertDialogHeader";let M=({className:e,...t})=>a.jsx("div",{className:(0,_.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});M.displayName="AlertDialogFooter";let q=r.forwardRef(({className:e,...t},s)=>a.jsx(w,{ref:s,className:(0,_.cn)("text-lg font-semibold",e),...t}));q.displayName=w.displayName;let E=r.forwardRef(({className:e,...t},s)=>a.jsx(R,{ref:s,className:(0,_.cn)("text-sm text-muted-foreground",e),...t}));E.displayName=R.displayName;let $=r.forwardRef(({className:e,...t},s)=>a.jsx(k,{ref:s,className:(0,_.cn)((0,S.d)(),e),...t}));$.displayName=k.displayName;let I=r.forwardRef(({className:e,...t},s)=>a.jsx(C,{ref:s,className:(0,_.cn)((0,S.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));I.displayName=C.displayName},27114:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(54714),r=s(77580),l=s(35178);let i=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));i.displayName="Input"},50001:(e,t,s)=>{"use strict";s.d(t,{RM:()=>n,SC:()=>d,iA:()=>i,pj:()=>u,ss:()=>c,xD:()=>o});var a=s(54714),r=s(77580),l=s(35178);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let n=r.forwardRef(({className:e,...t},s)=>a.jsx("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));n.displayName="TableBody",r.forwardRef(({className:e,...t},s)=>a.jsx("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=r.forwardRef(({className:e,...t},s)=>a.jsx("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",r.forwardRef(({className:e,...t},s)=>a.jsx("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},22405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(20537).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},45642:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(20537).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},65717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(20537).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},57469:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(20537).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},57801:(e,t,s)=>{"use strict";var a=s(87482);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},89111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(71481).createProxy)(String.raw`/home/wilsonjunior/ecommerce-app/frontend/src/app/supplier/(dashboard)/products/page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3499,6075,5303,9872,6710,6227,4705,9236,4774],()=>s(36093));module.exports=a})();
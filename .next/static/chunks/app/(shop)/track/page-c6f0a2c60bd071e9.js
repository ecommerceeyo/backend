(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4679],{4364:function(e,s,r){Promise.resolve().then(r.bind(r,3679))},3679:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return w}});var t=r(7821),a=r(8078),n=r(6665),l=r(8900),c=r(979),i=r(2904),d=r(3544),u=r(8987),m=r(9388),o=r(499),x=r(6786),h=r(9829),f=r(2154),j=r(3572),N=r(9827),p=r(5537),b=r(8047),y=r(4888),v=r(8350),g=r(5659);function k(){var e;let s=(0,n.useRouter)(),r=(0,n.useSearchParams)().get("order")||"",[v,k]=(0,a.useState)(r),[w,S]=(0,a.useState)(r),{data:P,isLoading:O,error:C,refetch:D}=(0,l.a)({queryKey:["track-order",w],queryFn:async()=>await f.hi.trackOrder(w),enabled:!!w}),E=(null==P?void 0:P.data)||null,T=[{status:"PENDING",label:"Order Placed",icon:c.Z},{status:"PICKED_UP",label:"Picked Up",icon:i.Z},{status:"IN_TRANSIT",label:"In Transit",icon:d.Z},{status:"DELIVERED",label:"Delivered",icon:u.Z}],I=e=>{if("CANCELLED"===e)return -1;let s=T.findIndex(s=>s.status===e);return -1===s?0:s};return(0,t.jsx)("div",{className:"container py-8",children:(0,t.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,t.jsx)("h1",{className:"mb-6 text-center text-2xl font-bold",children:"Track Your Order"}),(0,t.jsx)(p.Zb,{className:"mb-8",children:(0,t.jsx)(p.aY,{className:"pt-6",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v.trim()&&(S(v.trim()),s.push("/track?order=".concat(encodeURIComponent(v.trim()))))},className:"flex gap-2",children:[(0,t.jsx)(N.I,{placeholder:"Enter order number (e.g., ORD-XXXXX)",value:v,onChange:e=>k(e.target.value),className:"flex-1"}),(0,t.jsxs)(j.z,{type:"submit",children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Track"]})]})})}),O&&(0,t.jsx)(Z,{}),C&&!O&&w&&(0,t.jsx)(p.Zb,{children:(0,t.jsxs)(p.aY,{className:"py-12 text-center",children:[(0,t.jsx)(o.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:"Order Not Found"}),(0,t.jsxs)("p",{className:"mt-2 text-muted-foreground",children:["We couldn't find an order with number \"",w,'"']}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Please check the order number and try again."})]})}),E&&!O&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(p.Zb,{children:(0,t.jsx)(p.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.ll,{className:"font-mono",children:E.orderNumber}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Placed on"," ",new Date(E.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(b.C,{className:(0,g.Dx)(E.paymentStatus),children:E.paymentStatus})})]})})}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsx)(p.Ol,{children:(0,t.jsxs)(p.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Z,{className:"h-5 w-5"}),"Delivery Status"]})}),(0,t.jsxs)(p.aY,{children:["CANCELLED"===E.deliveryStatus?(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-red-50 p-4",children:[(0,t.jsx)(o.Z,{className:"h-8 w-8 text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-red-800",children:"Order Cancelled"}),(0,t.jsx)("p",{className:"text-sm text-red-600",children:"This order has been cancelled."})]})]}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-6 top-0 h-full w-0.5 bg-muted"}),(0,t.jsx)("div",{className:"space-y-6",children:T.map((e,s)=>{let r=I(E.deliveryStatus),a=s<=r,n=s===r,l=e.icon;return(0,t.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,t.jsx)("div",{className:"relative z-10 flex h-12 w-12 items-center justify-center rounded-full ".concat(a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"," ").concat(n?"ring-4 ring-primary/20":""),children:(0,t.jsx)(l,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium ".concat(a?"text-foreground":"text-muted-foreground"),children:e.label}),n&&(0,t.jsx)("p",{className:"text-sm text-primary",children:"Current Status"})]})]},e.status)})})]}),(null===(e=E.delivery)||void 0===e?void 0:e.trackingNumber)&&(0,t.jsxs)("div",{className:"mt-6 rounded-lg bg-muted p-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),(0,t.jsx)("p",{className:"font-mono font-bold",children:E.delivery.trackingNumber}),E.delivery.courier&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:["Courier: ",E.delivery.courier.name]})]})]})]}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsx)(p.Ol,{children:(0,t.jsxs)(p.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5"}),"Delivery Address"]})}),(0,t.jsxs)(p.aY,{children:[(0,t.jsx)("p",{className:"font-medium",children:E.customerName}),(0,t.jsx)("p",{className:"text-muted-foreground",children:E.deliveryAddress}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),E.customerPhone]})]})]}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsx)(p.Ol,{children:(0,t.jsx)(p.ll,{children:"Order Summary"})}),(0,t.jsxs)(p.aY,{children:[(0,t.jsx)("div",{className:"space-y-3",children:E.itemsSnapshot.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:[e.name," x ",e.quantity]}),(0,t.jsx)("span",{className:"font-medium",children:(0,g.T4)(Number(e.price)*e.quantity)})]},s))}),(0,t.jsx)(y.Z,{className:"my-4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,t.jsx)("span",{children:(0,g.T4)(E.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Delivery"}),(0,t.jsx)("span",{children:0===Number(E.deliveryFee)?"Free":(0,g.T4)(E.deliveryFee)})]}),(0,t.jsx)(y.Z,{}),(0,t.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{children:(0,g.T4)(E.total)})]})]})]})]}),(0,t.jsx)(j.z,{variant:"outline",className:"w-full",onClick:()=>D(),children:"Refresh Status"})]}),!w&&!O&&(0,t.jsx)(p.Zb,{children:(0,t.jsxs)(p.aY,{className:"py-12 text-center",children:[(0,t.jsx)(i.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h2",{className:"mt-4 text-xl font-semibold",children:"Track Your Order"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Enter your order number above to see the current status of your delivery."})]})})]})})}function Z(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(v.O,{className:"h-24"}),(0,t.jsx)(v.O,{className:"h-64"}),(0,t.jsx)(v.O,{className:"h-32"}),(0,t.jsx)(v.O,{className:"h-48"})]})}function w(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)(Z,{}),children:(0,t.jsx)(k,{})})}},9827:function(e,s,r){"use strict";r.d(s,{I:function(){return l}});var t=r(7821),a=r(8078),n=r(5659);let l=a.forwardRef((e,s)=>{let{className:r,type:a,...l}=e;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...l})});l.displayName="Input"},499:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2210).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},979:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2210).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9388:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(2210).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6665:function(e,s,r){"use strict";var t=r(319);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[8616,9050,8900,3325,7115,9069,1744],function(){return e(e.s=4364)}),_N_E=e.O()}]);
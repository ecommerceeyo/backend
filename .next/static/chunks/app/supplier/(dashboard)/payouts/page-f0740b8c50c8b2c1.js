(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1590],{5257:function(e,t,r){Promise.resolve().then(r.bind(r,574))},574:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7821),n=r(8078),s=r(979),l=r(316),i=r(5786),o=r(9458),c=r(5537),d=r(8047),u=r(870),f=r(3572),m=r(7384);let p={PENDING:{label:"Pending",variant:"outline",icon:s.Z},PROCESSING:{label:"Processing",variant:"secondary",icon:s.Z},PAID:{label:"Paid",variant:"default",icon:l.Z},FAILED:{label:"Failed",variant:"destructive",icon:i.Z}};function x(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(!0),[x,h]=(0,n.useState)({page:1,limit:20,total:0,totalPages:0}),g=async()=>{i(!0);try{let e=await m.R.getPayouts({page:x.page,limit:x.limit});e.success&&(t(e.data.items),h(t=>({...t,...e.data.pagination})))}catch(e){console.error("Failed to fetch payouts:",e)}finally{i(!1)}};(0,n.useEffect)(()=>{g()},[x.page]);let y=e=>new Intl.NumberFormat("fr-FR").format(e)+" FCFA",b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=e.filter(e=>"PENDING"===e.status).reduce((e,t)=>e+t.netAmount,0),N=e.filter(e=>"PAID"===e.status).reduce((e,t)=>e+t.netAmount,0);return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Payouts"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Track your earnings and payment history"})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium",children:"Pending Payouts"}),(0,a.jsx)(s.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:y(j)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.filter(e=>"PENDING"===e.status).length," pending payout(s)"]})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Paid"}),(0,a.jsx)(l.Z,{className:"h-4 w-4 text-green-500"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:y(N)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.filter(e=>"PAID"===e.status).length," completed payout(s)"]})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Payouts"}),(0,a.jsx)(o.Z,{className:"h-4 w-4 text-primary"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All-time payout records"})]})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"Payout History"}),(0,a.jsx)(c.SZ,{children:"View all your payout records and their status"})]}),(0,a.jsxs)(c.aY,{children:[(0,a.jsxs)(u.iA,{children:[(0,a.jsx)(u.xD,{children:(0,a.jsxs)(u.SC,{children:[(0,a.jsx)(u.ss,{children:"Reference"}),(0,a.jsx)(u.ss,{children:"Period"}),(0,a.jsx)(u.ss,{className:"text-right",children:"Gross"}),(0,a.jsx)(u.ss,{className:"text-right",children:"Commission"}),(0,a.jsx)(u.ss,{className:"text-right",children:"Net Amount"}),(0,a.jsx)(u.ss,{children:"Status"}),(0,a.jsx)(u.ss,{children:"Paid On"})]})}),(0,a.jsx)(u.RM,{children:r?(0,a.jsx)(u.SC,{children:(0,a.jsx)(u.pj,{colSpan:7,className:"h-24 text-center",children:(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):0===e.length?(0,a.jsx)(u.SC,{children:(0,a.jsx)(u.pj,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"No payouts yet. Start selling to receive payouts!"})}):e.map(e=>{let t=p[e.status]||p.PENDING,r=t.icon;return(0,a.jsxs)(u.SC,{children:[(0,a.jsx)(u.pj,{className:"font-medium",children:e.referenceId}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[b(e.periodStart)," - ",b(e.periodEnd)]})}),(0,a.jsx)(u.pj,{className:"text-right",children:y(e.grossAmount)}),(0,a.jsxs)(u.pj,{className:"text-right text-muted-foreground",children:["-",y(e.commission)]}),(0,a.jsx)(u.pj,{className:"text-right font-medium",children:y(e.netAmount)}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)(d.C,{variant:t.variant,className:"gap-1",children:[(0,a.jsx)(r,{className:"h-3 w-3"}),t.label]})}),(0,a.jsx)(u.pj,{className:"text-sm text-muted-foreground",children:e.paidAt?b(e.paidAt):"-"})]},e.id)})})]}),x.totalPages>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",e.length," of ",x.total," payouts"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(f.z,{variant:"outline",size:"sm",disabled:1===x.page,onClick:()=>h(e=>({...e,page:e.page-1})),children:"Previous"}),(0,a.jsx)(f.z,{variant:"outline",size:"sm",disabled:x.page===x.totalPages,onClick:()=>h(e=>({...e,page:e.page+1})),children:"Next"})]})]})]})]}),(0,a.jsx)(c.Zb,{className:"bg-muted/50",children:(0,a.jsx)(c.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-primary mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"How Payouts Work"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Payouts are generated automatically based on your delivered orders. The platform commission is deducted from your gross earnings, and the net amount is transferred to your registered bank account or mobile money. Payouts are typically processed weekly."})]})]})})})]})}},8047:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var a=r(7821);r(8078);var n=r(2555),s=r(5659);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(l({variant:r}),t),...n})}},3572:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return c}});var a=r(7821),n=r(8078),s=r(7779),l=r(2555),i=r(5659);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...d})});c.displayName="Button"},5537:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=r(7821),n=r(8078),s=r(5659);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},870:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return c},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return i}});var a=r(7821),n=r(8078),s=r(5659);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",r),...n})})});l.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",r),...n})});i.displayName="TableHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",r),...n})});o.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});c.displayName="TableRow";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});d.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},7384:function(e,t,r){"use strict";r.d(t,{R:function(){return l}});let a="http://192.168.0.8:4000/api";function n(){let e=localStorage.getItem("supplier-auth");if(!e)return{};try{let{state:t}=JSON.parse(e);if(null==t?void 0:t.token)return{Authorization:"Bearer ".concat(t.token)}}catch(e){}return{}}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...n(),...t.headers}}),a=await r.json();if(!r.ok)throw Error(a.error||"Request failed");return a}let l={getDashboard:()=>s("".concat(a,"/supplier-portal/dashboard")),getProfile:()=>s("".concat(a,"/supplier-portal/profile")),updateProfile:e=>s("".concat(a,"/supplier-portal/profile"),{method:"PUT",body:JSON.stringify(e)}),getProducts:e=>{let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.search)&&t.set("search",e.search),(null==e?void 0:e.active)!==void 0&&t.set("active",e.active.toString()),s("".concat(a,"/supplier-portal/products?").concat(t))},getProduct:e=>s("".concat(a,"/supplier-portal/products/").concat(e)),createProduct:e=>s("".concat(a,"/supplier-portal/products"),{method:"POST",body:JSON.stringify(e)}),updateProduct:(e,t)=>s("".concat(a,"/supplier-portal/products/").concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>s("".concat(a,"/supplier-portal/products/").concat(e),{method:"DELETE"}),getOrders:e=>{let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.search)&&t.set("search",e.search),s("".concat(a,"/supplier-portal/orders?").concat(t))},getOrderItem:e=>s("".concat(a,"/supplier-portal/orders/").concat(e)),updateFulfillment:(e,t)=>s("".concat(a,"/supplier-portal/orders/").concat(e,"/fulfillment"),{method:"PATCH",body:JSON.stringify(t)}),getPayouts:e=>{let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),s("".concat(a,"/supplier-portal/payouts?").concat(t))},getStaff:()=>s("".concat(a,"/supplier-auth/staff")),createStaff:e=>s("".concat(a,"/supplier-auth/staff"),{method:"POST",body:JSON.stringify(e)}),updateStaffStatus:(e,t)=>s("".concat(a,"/supplier-auth/staff/").concat(e,"/status"),{method:"PATCH",body:JSON.stringify({active:t})}),deleteStaff:e=>s("".concat(a,"/supplier-auth/staff/").concat(e),{method:"DELETE"}),changePassword:(e,t)=>s("".concat(a,"/supplier-auth/change-password"),{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t})}),getCategories:()=>fetch("".concat(a,"/categories")).then(e=>e.json()),uploadImage:async e=>{let t=new FormData;return t.append("image",e),(await fetch("".concat(a,"/admin/upload/image"),{method:"POST",headers:n(),body:t})).json()}}},5659:function(e,t,r){"use strict";r.d(t,{Dx:function(){return o},Jn:function(){return i},T4:function(){return l},cn:function(){return s},ew:function(){return c}});var a=r(6252),n=r(3973);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function l(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XAF",r=Math.round(e).toLocaleString("fr-FR"),a={XAF:"FCFA",USD:"$",EUR:"â‚¬",GBP:"\xa3"}[t]||t;return"XAF"===t?"".concat(r," ").concat(a):"".concat(a).concat(r)}("string"==typeof e?parseFloat(e):e,"XAF")}function i(e){var t,r,a;let n=null===(t=e.images)||void 0===t?void 0:t.find(e=>e.isPrimary);return(null==n?void 0:n.url)||(null===(a=e.images)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.url)||"/placeholder-product.png"}function o(e){switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}}function c(e){return({PENDING:"Order Placed",PICKED_UP:"Picked Up",IN_TRANSIT:"In Transit",DELIVERED:"Delivered",CANCELLED:"Cancelled"})[e]||e}},5786:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},316:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},979:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9458:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2210).Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])}},function(e){e.O(0,[8616,7115,9069,1744],function(){return e(e.s=5257)}),_N_E=e.O()}]);